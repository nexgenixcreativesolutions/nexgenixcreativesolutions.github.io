<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Service Dashboard | Nex Genix Creative Solutions</title>
  <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <link rel="stylesheet" href="dashboard-style.css">
  <style>
    /* â”€â”€ SIDEBAR ACCORDION â”€â”€ */
    .sidebar-group-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.6rem 0.875rem;
      margin-bottom: 0.15rem;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      color: var(--text);
      border: 1px solid transparent;
      transition: all 0.22s ease;
      list-style: none;
    }
    .sidebar-group-header:hover {
      background: var(--neon-dim);
      border-color: var(--border);
      color: var(--neon);
    }
    .sidebar-group-header.open {
      color: var(--neon);
      background: var(--neon-dim);
      border-color: var(--border);
    }
    .sidebar-arrow {
      font-size: 0.75rem;
      transition: transform 0.22s ease;
      opacity: 0.7;
    }
    .sidebar-group-header.open .sidebar-arrow { transform: rotate(180deg); }

    .sidebar-submenu {
      list-style: none;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      padding-left: 0.5rem;
      margin-bottom: 0.25rem;
    }
    .sidebar-submenu.open { max-height: 400px; }

    .sidebar-subheader {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.58rem;
      letter-spacing: 0.1em;
      color: var(--neon);
      padding: 0.5rem 0.75rem 0.2rem;
      text-transform: uppercase;
      opacity: 0.75;
      list-style: none;
    }
    .sidebar-subitem {
      padding: 0.45rem 0.875rem;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 0.72rem;
      color: var(--text-muted);
      transition: all 0.18s ease;
      list-style: none;
      border: 1px solid transparent;
    }
    .sidebar-subitem:hover {
      background: rgba(57,255,20,0.07);
      color: var(--text);
      border-color: var(--border-dim);
      transform: translateX(3px);
    }

    /* â”€â”€ PROFILE SECTION â”€â”€ */
    .profile-avatar-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1.25rem;
      padding-bottom: 1.25rem;
      border-bottom: 1px solid var(--border-dim);
    }
    .profile-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--neon);
      box-shadow: 0 0 16px rgba(57,255,20,0.25);
      background: var(--surface-2);
    }
    .avatar-initials {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 2px solid var(--neon);
      box-shadow: 0 0 16px rgba(57,255,20,0.25);
      background: var(--neon-dim);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Orbitron', sans-serif;
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--neon);
    }
    .avatar-upload-btn {
      padding: 0.4rem 0.875rem;
      background: var(--neon-dim);
      border: 1px solid var(--neon);
      border-radius: var(--radius-sm);
      color: var(--neon);
      font-family: 'Orbitron', sans-serif;
      font-size: 0.62rem;
      letter-spacing: 0.08em;
      cursor: pointer;
      transition: all 0.2s;
    }
    .avatar-upload-btn:hover { background: var(--neon); color: #000; }

    .profile-section-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 0.65rem;
      letter-spacing: 0.12em;
      color: var(--neon);
      text-transform: uppercase;
      padding: 0.75rem 0 0.5rem;
      border-bottom: 1px solid var(--border-dim);
      margin-bottom: 0.875rem;
    }

    /* â”€â”€ ORDERS FILTER TABS â”€â”€ */
    .orders-filter-tabs {
      display: flex;
      gap: 0.4rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .orders-tab {
      padding: 0.4rem 0.875rem;
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-dim);
      background: var(--surface-2);
      color: var(--text-muted);
      font-family: 'Orbitron', sans-serif;
      font-size: 0.65rem;
      letter-spacing: 0.06em;
      cursor: pointer;
      transition: all 0.2s;
    }
    .orders-tab:hover, .orders-tab.active {
      background: var(--neon-dim);
      border-color: var(--neon);
      color: var(--neon);
    }

    /* â”€â”€ REVIEW / RATING â”€â”€ */
    .review-card {
      background: var(--surface-2);
      border: 1px solid var(--border-dim);
      border-radius: var(--radius-sm);
      padding: 1rem;
      margin-top: 0.75rem;
    }
    .star-rating {
      display: flex;
      gap: 0.3rem;
      margin-bottom: 0.6rem;
    }
    .star {
      font-size: 1.3rem;
      cursor: pointer;
      color: var(--border-dim);
      transition: color 0.15s;
    }
    .star.active, .star:hover { color: var(--yellow); }
    .review-textarea {
      width: 100%;
      background: rgba(0,0,0,0.4);
      border: 1px solid var(--border-dim);
      border-radius: var(--radius-sm);
      color: var(--text);
      font-family: 'Montserrat Alternates', sans-serif;
      font-size: 0.8rem;
      padding: 0.5rem 0.75rem;
      resize: vertical;
      min-height: 70px;
      margin-bottom: 0.5rem;
    }
    .review-textarea:focus { outline: none; border-color: var(--neon); }

    /* â”€â”€ SUPPORT SECTION â”€â”€ */
    .support-options {
      display: grid;
      gap: 0.75rem;
      margin-top: 0.5rem;
    }
    .support-card {
      display: flex;
      align-items: center;
      gap: 0.875rem;
      padding: 0.875rem 1rem;
      background: var(--surface-2);
      border: 1px solid var(--border-dim);
      border-radius: var(--radius-sm);
      cursor: pointer;
      text-decoration: none;
      transition: all 0.22s;
    }
    .support-card:hover {
      border-color: var(--neon);
      background: var(--neon-dim);
    }
    .support-icon { font-size: 1.4rem; }
    .support-label { font-family: 'Orbitron', sans-serif; font-size: 0.72rem; color: var(--text); letter-spacing: 0.04em; }
    .support-sub { font-size: 0.7rem; color: var(--text-muted); margin-top: 0.15rem; }

    /* â”€â”€ BOTTOM NAV LOGOUT â”€â”€ */
    .bottom-nav-item.logout-item { color: var(--red) !important; }
    .bottom-nav-item.logout-item svg { stroke: var(--red) !important; }
    .bottom-nav-item.logout-item:hover,
    .bottom-nav-item.logout-item.active { background: rgba(255,64,64,0.1) !important; }

    /* â”€â”€ HIDE + BUTTON STYLE â”€â”€ */
    .bottom-nav-plus { display: none !important; }

    /* â”€â”€ TOP NAV â€” clock only â”€â”€ */
    .top-nav-buttons-right {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    /* â”€â”€ PASSWORD TOGGLE â”€â”€ */
    .pw-wrap {
      position: relative;
      display: flex;
      align-items: center;
    }
    .pw-wrap .pw-input {
      padding-right: 2.5rem;
      flex: 1;
    }
    .pw-toggle {
      position: absolute;
      right: 0.6rem;
      background: none;
      border: none;
      cursor: pointer;
      color: var(--text-muted);
      padding: 0;
      display: flex;
      align-items: center;
      transition: color 0.2s;
    }
    .pw-toggle:hover { color: var(--neon); }
    .pw-toggle .eye-icon { width: 16px; height: 16px; }
    .pw-toggle.visible { color: var(--neon); }

    /* â”€â”€ SIMPLE SIDEBAR ITEMS â”€â”€ */
    .sidebar-top-item {
      padding: 0.65rem 0.875rem;
      margin-bottom: 0.25rem;
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.72rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      color: var(--text-muted);
      border: 1px solid transparent;
      transition: all 0.22s ease;
      list-style: none;
    }
    .sidebar-top-item:hover {
      background: var(--neon-dim);
      border-color: var(--border);
      color: var(--neon);
      transform: translateX(4px);
    }
    .sidebar-top-item.active {
      background: var(--neon-dim);
      border-color: var(--neon);
      color: var(--neon);
      box-shadow: inset 3px 0 0 var(--neon);
    }

    /* â”€â”€ SIDEBAR BOTTOM ACTIONS (Home + Logout) â”€â”€ */
    .sidebar-bottom-actions {
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
      margin-top: 1rem;
      padding-top: 0.875rem;
      border-top: 1px solid var(--border-dim);
    }
    .sidebar-action-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 0.875rem;
      border-radius: var(--radius-sm);
      font-family: 'Orbitron', sans-serif;
      font-size: 0.7rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      cursor: pointer;
      transition: all 0.22s ease;
      text-decoration: none !important;
      border: 1px solid transparent;
      width: 100%;
      text-align: left;
      background: none;
    }
    .sidebar-home-btn {
      color: var(--yellow);
      border-color: rgba(232,212,77,0.3);
      background: rgba(232,212,77,0.06);
    }
    .sidebar-home-btn:hover {
      background: var(--yellow);
      color: #000;
      border-color: var(--yellow);
    }
    .sidebar-home-btn svg { stroke: currentColor; }
    .sidebar-logout-btn {
      color: var(--red);
      border-color: rgba(255,64,64,0.3);
      background: rgba(255,64,64,0.06);
    }
    .sidebar-logout-btn:hover {
      background: var(--red);
      color: #fff;
      border-color: var(--red);
    }
    .sidebar-logout-btn svg { stroke: currentColor; }

    /* â”€â”€ NO UNDERLINE ON BOTTOM NAV LINKS â”€â”€ */
    .bottom-nav a, .bottom-nav a:visited, .bottom-nav a:hover {
      text-decoration: none !important;
    }
  </style>
</head>

<body>
  <!-- Floating Code Background -->
  <div class="floating-code-container" id="floatingCodeContainer"></div>

  <!-- Sidebar Overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

  <div class="dashboard-wrapper">

    <!-- =================== SIDEBAR =================== -->
    <aside class="sidebar" id="sidebar">
      <div>
        <img src="assets/images/dashboard-logo-no-bg.png" class="sidebar-logo" alt="Nex Genix">
        <ul class="sidebar-menu">
          <li onclick="showSection('profile')" class="sidebar-top-item">ğŸ‘¤ View Profile</li>
          <li onclick="showSection('my-orders')" class="sidebar-top-item">ğŸ›ï¸ Services Purchased</li>
          <li onclick="showSection('support')" class="sidebar-top-item">ğŸ’¬ Contact Support</li>
        </ul>
        <div class="sidebar-bottom-actions">
          <a href="https://nexgenixcreativesolutions.github.io" class="sidebar-action-btn sidebar-home-btn" target="_blank">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
            Home
          </a>
          <button onclick="logout()" class="sidebar-action-btn sidebar-logout-btn">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
            Logout
          </button>
        </div>
      </div>
      <p class="sidebar-footer">&copy; 2023â€“2026 Nex Genix Creative Solutions<br>All rights reserved.</p>
    </aside>

    <!-- =================== MAIN CONTENT =================== -->
    <main class="main-content">

      <!-- Top Navigation â€” clock only -->
      <nav class="top-nav">
        <div id="datetime" class="datetime"></div>
        <div class="top-nav-buttons-right">
          <!-- hamburger on mobile -->
          <button class="nav-btn" id="sidebarToggleBtn" onclick="toggleSidebar()" style="display:none;">â˜°</button>
        </div>
      </nav>

      <!-- â”€â”€ ORDER SERVICE SECTION â”€â”€ -->
      <div id="order" class="content-section active">
        <h1 class="welcome-title">Order Your Service</h1>

        <div class="order-type-selector">
          <button class="order-type-btn active" id="newWebsiteBtn" onclick="selectOrderType('new')">ğŸ†• New Website Order</button>
          <button class="order-type-btn" id="renewalBtn" onclick="selectOrderType('renewal')">ğŸ”„ Renewal Service</button>
        </div>

        <!-- CURRENCY SELECTOR -->
        <div class="currency-selector-standalone">
          <div class="currency-selector-label"><span>ğŸ’±</span><span>View Prices In:</span></div>
          <div class="currency-dropdown-wrap">
            <select id="currencyDropdown" onchange="changeCurrencyFromDropdown(this)" class="currency-dropdown">
              <option value="USD" data-flag="ğŸ’µ">ğŸ’µ USD â€” US Dollar ($)</option>
              <option value="PHP" data-flag="ğŸ‡µğŸ‡­">ğŸ‡µğŸ‡­ PHP â€” Philippine Peso (â‚±)</option>
              <option value="EUR" data-flag="ğŸ‡ªğŸ‡º">ğŸ‡ªğŸ‡º EUR â€” Euro / Italy (â‚¬)</option>
              <option value="PLN" data-flag="ğŸ‡µğŸ‡±">ğŸ‡µğŸ‡± PLN â€” Polish ZÅ‚oty (zÅ‚)</option>
              <option value="GBP" data-flag="ğŸ‡¬ğŸ‡§">ğŸ‡¬ğŸ‡§ GBP â€” British Pound (Â£)</option>
              <option value="JPY" data-flag="ğŸ‡¯ğŸ‡µ">ğŸ‡¯ğŸ‡µ JPY â€” Japanese Yen (Â¥)</option>
              <option value="AUD" data-flag="ğŸ‡¦ğŸ‡º">ğŸ‡¦ğŸ‡º AUD â€” Australian Dollar (A$)</option>
              <option value="CAD" data-flag="ğŸ‡¨ğŸ‡¦">ğŸ‡¨ğŸ‡¦ CAD â€” Canadian Dollar (C$)</option>
              <option value="SGD" data-flag="ğŸ‡¸ğŸ‡¬">ğŸ‡¸ğŸ‡¬ SGD â€” Singapore Dollar (S$)</option>
              <option value="INR" data-flag="ğŸ‡®ğŸ‡³">ğŸ‡®ğŸ‡³ INR â€” Indian Rupee (â‚¹)</option>
              <option value="CNY" data-flag="ğŸ‡¨ğŸ‡³">ğŸ‡¨ğŸ‡³ CNY â€” Chinese Yuan (Â¥)</option>
              <option value="MXN" data-flag="ğŸ‡²ğŸ‡½">ğŸ‡²ğŸ‡½ MXN â€” Mexican Peso (MX$)</option>
              <option value="BRL" data-flag="ğŸ‡§ğŸ‡·">ğŸ‡§ğŸ‡· BRL â€” Brazilian Real (R$)</option>
              <option value="KRW" data-flag="ğŸ‡°ğŸ‡·">ğŸ‡°ğŸ‡· KRW â€” South Korean Won (â‚©)</option>
              <option value="CHF" data-flag="ğŸ‡¨ğŸ‡­">ğŸ‡¨ğŸ‡­ CHF â€” Swiss Franc (Fr)</option>
              <option value="AED" data-flag="ğŸ‡¦ğŸ‡ª">ğŸ‡¦ğŸ‡ª AED â€” UAE Dirham (Ø¯.Ø¥)</option>
              <option value="SAR" data-flag="ğŸ‡¸ğŸ‡¦">ğŸ‡¸ğŸ‡¦ SAR â€” Saudi Riyal (ï·¼)</option>
            </select>
            <span class="currency-dropdown-arrow">â–¼</span>
          </div>
        </div>

        <!-- SERVICE TYPE FILTER BAR -->
        <div class="service-filter-bar" id="serviceFilterBar">
          <div class="filter-label">Filter packages by service type</div>
          <button class="filter-tab active" id="tab-all" onclick="filterByServiceType('all', this)"><span class="tab-icon">ğŸ—‚ï¸</span> All Packages</button>
          <button class="filter-tab" id="tab-app-design" onclick="filterByServiceType('app-design', this)"><span class="tab-icon">ğŸ“±</span> App Design</button>
          <button class="filter-tab" id="tab-web-design" onclick="filterByServiceType('web-design', this)"><span class="tab-icon">ğŸ¨</span> Web Design</button>
          <button class="filter-tab" id="tab-web-development" onclick="filterByServiceType('web-development', this)"><span class="tab-icon">ğŸŒ</span> Web Development</button>
          <button class="filter-tab" id="tab-ui-ux" onclick="filterByServiceType('ui-ux-design', this)"><span class="tab-icon">ğŸ§©</span> UI/UX Design</button>
        </div>

        <!-- NEW WEBSITE PACKAGES -->
        <div id="newWebsitePackages">
          <div class="package-category" id="cat-maintenance" data-service-types="web-design web-development">
            <div class="category-header"><h3>ğŸ“± Multi-Page Websites (With Maintenance)</h3><p>Professional websites with ongoing support and maintenance - Perfect for growing businesses</p></div>
            <div class="content-box"><div class="service-grid" id="serviceGridMaintenance"></div></div>
          </div>
          <div class="package-category" id="cat-onepage" data-service-types="web-design web-development">
            <div class="category-header"><h3>âš¡ Two-Page Websites (Fast Launch)</h3><p>Quick and efficient single-page solutions - Best for new businesses, promos, and landing pages</p></div>
            <div class="content-box"><div class="service-grid" id="serviceGridOnePage"></div></div>
          </div>
          <div class="package-category" id="cat-nomaintenance" data-service-types="web-design web-development">
            <div class="category-header"><h3>ğŸŒ Multi-Page Websites (No Maintenance)</h3><p>One-time development with no ongoing costs - For businesses wanting a simple online presence</p></div>
            <div class="content-box"><div class="service-grid" id="serviceGridNoMaintenance"></div></div>
          </div>
          <div class="package-category hidden" id="cat-app-design" data-service-types="app-design">
            <div class="category-header"><h3>ğŸ“± App Design Packages</h3><p>Mobile app UI/UX design for iOS, Android, and cross-platform applications</p></div>
            <div class="content-box"><div class="service-grid" id="serviceGridAppDesign"></div></div>
          </div>
          <div class="package-category hidden" id="cat-uiux" data-service-types="ui-ux-design">
            <div class="category-header"><h3>ğŸ§© UI/UX Design Packages</h3><p>Wireframes, prototypes, user research, and full design systems</p></div>
            <div class="content-box"><div class="service-grid" id="serviceGridUiux"></div></div>
          </div>
        </div>

        <!-- RENEWAL PACKAGES -->
        <div id="renewalPackages" style="display:none;">
          <div class="package-category">
            <div class="category-header"><h3>ğŸ”§ Website Manager Services</h3><p>Keep your website running smoothly with professional management</p></div>
            <div class="content-box"><div class="service-grid" id="serviceGridManager"></div></div>
          </div>
          <div class="package-category">
            <div class="category-header"><h3>ğŸ”„ Annual Renewal</h3><p>Renew your existing Nex Genix website for another year</p></div>
            <div class="content-box"><div class="service-grid" id="serviceGridRenewal"></div></div>
          </div>
        </div>

        <!-- CUSTOMIZATION PANEL (hidden until card selected) -->
        <div class="customization-panel" id="customizationPanel" style="display:none;">
          <h2>âš™ï¸ CUSTOMIZE YOUR ORDER</h2>

          <div class="service-type-badge-wrap">
            <span class="service-type-badge" id="serviceTypeBadge">SERVICE</span>
          </div>

          <!-- Business Questionnaire -->
          <div class="biz-questionnaire" id="bizQuestionnaire">
            <h3>ğŸ“‹ Tell Us About Your Business</h3>
            <div class="form-group">
              <div class="biz-tags-label">Business Type</div>
              <div class="biz-tags" id="bizTypeTags"></div>
            </div>
            <div class="form-group">
              <div class="biz-tags-label">Business Goals</div>
              <div class="biz-tags" id="bizGoalTags"></div>
            </div>
            <div class="form-group">
              <div class="biz-tags-label">Business Stage</div>
              <div class="biz-tags" id="bizStageTags"></div>
            </div>
          </div>

          <!-- App Design Options -->
          <div id="appDesignOptions" style="display:none;">
            <div class="panel-section-title">ğŸ“± APP DESIGN CONFIGURATION</div>
            <div class="form-group">
              <label>Platform *</label>
              <select id="appPlatform" class="select"><option value="">Select platform</option><option>iOS</option><option>Android</option><option>Both (Cross-platform)</option></select>
            </div>
            <div class="form-group">
              <label>Number of Screens *</label>
              <select id="appScreens" class="select"><option value="">Select range</option><option>1â€“5 screens</option><option>6â€“10 screens</option><option>11â€“20 screens</option><option>20+ screens</option></select>
            </div>
            <div class="form-group">
              <label>Prototype Required?</label>
              <select id="appPrototype" class="select"><option value="no">No prototype needed</option><option value="low">Low-fidelity wireframes</option><option value="high">High-fidelity prototype</option></select>
            </div>
          </div>

          <!-- Web Design Options -->
          <div id="webDesignOptions" style="display:none;">
            <div class="panel-section-title">ğŸ¨ WEB DESIGN CONFIGURATION</div>
            <div class="form-group">
              <label>Number of Pages *</label>
              <div class="page-counter-wrap">
                <div class="page-counter">
                  <button class="page-counter-btn" onclick="adjustPages(-1)">âˆ’</button>
                  <input type="number" id="numPages" class="page-counter-input" value="1" min="1" max="50" oninput="updatePageCount()">
                  <button class="page-counter-btn" onclick="adjustPages(1)">+</button>
                </div>
              </div>
              <div class="page-counter-hint" id="pageCounterHint"></div>
            </div>
            <div class="form-group">
              <label>Design Features (Select Multiple)</label>
              <div class="toggle-group" id="webDesignFeatures"></div>
            </div>
          </div>

          <!-- Web Development Options -->
          <div id="webDevOptions" style="display:none;">
            <div class="panel-section-title">ğŸŒ WEB DEVELOPMENT CONFIGURATION</div>
            <div class="form-group">
              <label>Tech Stack / Platform *</label>
              <select id="techStack" class="select"><option value="">Select stack</option><option>HTML/CSS/JS (Static)</option><option>React / Next.js</option><option>WordPress</option><option>Webflow</option><option>Shopify</option><option>Laravel / PHP</option><option>Node.js / Express</option><option>Other</option></select>
            </div>
            <div class="form-group">
              <label>Number of Pages *</label>
              <div class="page-counter-wrap">
                <div class="page-counter">
                  <button class="page-counter-btn" onclick="adjustPages(-1)">âˆ’</button>
                  <input type="number" id="numPagesdev" class="page-counter-input" value="1" min="1" max="50" oninput="updatePageCount()">
                  <button class="page-counter-btn" onclick="adjustPages(1)">+</button>
                </div>
              </div>
              <div class="page-counter-hint" id="pageCounterHint2"></div>
            </div>
            <div class="form-group">
              <label>Maintenance Plan</label>
              <select id="maintenancePlan" class="select"><option value="none">No maintenance needed</option><option value="monthly">Monthly (â‚±800/mo)</option><option value="annual">Annual (â‚±8,000/yr)</option></select>
            </div>
            <div class="form-group">
              <label>Additional Development Features (Select Multiple)</label>
              <div class="toggle-group" id="webDevFeatures"></div>
            </div>
          </div>

          <!-- UI/UX Options -->
          <div id="uiuxOptions" style="display:none;">
            <div class="panel-section-title">ğŸ§© UI/UX DESIGN CONFIGURATION</div>
            <div class="form-group">
              <label>Deliverables</label>
              <div class="toggle-group" id="uiuxDeliverables"></div>
            </div>
            <div class="form-group">
              <label>Fidelity Level</label>
              <select id="uiuxFidelity" class="select"><option value="low">Low-fidelity (Wireframes)</option><option value="mid">Mid-fidelity (Detailed Wireframes)</option><option value="high">High-fidelity (Pixel-perfect)</option></select>
            </div>
          </div>

          <!-- Project Details -->
          <div id="projectDetailsSection">
          <div class="panel-section-title">ğŸ“ PROJECT DETAILS</div>
          <div class="form-row">
            <div class="form-group">
              <label>Business Name *</label>
              <input type="text" id="businessName" class="input" placeholder="Your business name">
            </div>
            <div class="form-group">
              <label>Website/App Purpose *</label>
              <input type="text" id="websitePurpose" class="input" placeholder="e.g. Online store, portfolio...">
            </div>
          </div>
          <div class="form-group">
            <label>Color Preference</label>
            <input type="text" id="colorPreference" class="input" placeholder="e.g. Blue & white, dark theme...">
          </div>
          <div class="form-group">
            <label>Reference Websites (optional)</label>
            <input type="text" id="referenceWebsites" class="input" placeholder="Links to sites you like...">
          </div>
          <div class="form-group">
            <label>Special Requests / Notes</label>
            <textarea id="specialRequests" class="input" placeholder="Any special requirements or notes..."></textarea>
          </div>
          </div><!-- /projectDetailsSection -->
        </div>

        <!-- Invoice Preview -->
        <div class="content-box" id="invoiceSection" style="display:none;">
          <div class="invoice-preview">

            <div class="invoice-banner-wrap">
              <img src="https://nexgenixcreativesolutions.github.io/assets/images/banner.png" alt="Nex Genix Creative Solutions"
                   onerror="this.onerror=null;this.src='assets/images/dashboard-logo-no-bg.png';this.style.maxHeight='80px';this.style.objectFit='contain';this.style.padding='1rem';" />
              <div class="invoice-banner-overlay"></div>
              <div class="invoice-badge">INVOICE</div>
            </div>

            <div class="invoice-meta-bar">
              <div class="invoice-meta-cell">
                <div class="invoice-meta-label">Invoice No</div>
                <div class="invoice-meta-value" id="invoiceNumber" style="font-size:0.78rem;">NGCS-2026-001</div>
              </div>
              <div class="invoice-meta-cell">
                <div class="invoice-meta-label">Date</div>
                <div class="invoice-meta-value" style="font-size:0.78rem;" id="invoiceDate"></div>
              </div>
              <div class="invoice-meta-cell">
                <div class="invoice-meta-label">Status</div>
                <div class="invoice-meta-value" style="color:var(--yellow);font-size:0.72rem;">â³ PENDING</div>
              </div>
              <div class="invoice-meta-cell">
                <div class="invoice-meta-label">Currency</div>
                <div class="invoice-meta-value" id="invoiceCurrencyMeta" style="font-size:0.78rem;">USD</div>
              </div>
            </div>

            <div class="invoice-body">
              <div class="invoice-parties">
                <div class="invoice-party-card">
                  <div class="invoice-party-head bill">ğŸ‘¤ Bill To</div>
                  <div class="invoice-party-body">
                    <div class="inv-saved-banner" id="invSavedBanner">âœ… Auto-filled from saved profile</div>
                    <div class="p-name">
                      <span class="invoice-client-edit">
                        <input type="text" id="clientNameInput" value="Valued Client" placeholder="Client name" oninput="syncClientName()" />
                        <span class="edit-icon">âœï¸</span>
                      </span>
                    </div>
                    <div class="p-detail neon">
                      <span class="invoice-client-edit">
                        <input type="email" id="invoiceEmailInput" placeholder="email@example.com" oninput="syncInvoiceEmail()" />
                        <span class="edit-icon">âœï¸</span>
                      </span>
                    </div>
                    <div class="p-detail green" style="display:flex;align-items:center;gap:4px;flex-wrap:wrap;">
                      <svg width="11" height="11" viewBox="0 0 24 24" fill="#25D366"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                      <span class="phone-input-group">
                        <select id="invoicePhoneCode" class="phone-country-select" oninput="syncInvoicePhone()"></select>
                        <input type="tel" id="invoicePhoneNumber" class="phone-number-input" placeholder="9XX XXX XXXX" oninput="syncInvoicePhone()" maxlength="15" />
                      </span>
                    </div>
                    <button class="inv-save-btn" onclick="saveClientInfo()">ğŸ’¾ SAVE INFO TO DEVICE</button>
                  </div>
                </div>
                <div class="invoice-party-card">
                  <div class="invoice-party-head issuer">ğŸ¢ Issued By</div>
                  <div class="invoice-party-body">
                    <div class="p-name">Nex Genix Creative Solutions</div>
                    <div class="p-detail neon"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="38565d405f5d5651405b4a5d594c514e5d4b57544d4c5157564b785f55595154165b5755">[email&#160;protected]</a></div>
                    <div class="p-detail">Philippines</div>
                    <div class="p-detail" style="color:var(--text-muted);font-size:0.75rem;">nexgenixcreativesolutions.github.io</div>
                  </div>
                </div>
              </div>

              <div class="invoice-table">
                <table>
                  <thead><tr><th>Description</th><th style="text-align:right;">Amount</th></tr></thead>
                  <tbody id="invoiceItems"></tbody>
                </table>
              </div>

              <div class="invoice-total">
                <div class="total-label">ğŸ’° Total Amount Due</div>
                <div class="total-amount" id="totalAmount">â‚±0.00</div>
              </div>

              <div class="inv-pay-section">
                <div class="inv-pay-label">Payment Method</div>
                <div class="inv-pay-dropdown-wrap">
                  <span class="inv-pay-icon" id="invPayIcon">ğŸŸ¢</span>
                  <select id="invPaymentMethod" class="inv-pay-select" onchange="updatePaymentIcon()">
                    <optgroup label="ğŸ‡µğŸ‡­ Local â€” Philippines">
                      <option value="gcash" data-icon="ğŸŸ¢">GCash</option>
                      <option value="bank" data-icon="ğŸ¦">Bank Transfer</option>
                      <option value="maya" data-icon="ğŸŸ£">Maya</option>
                    </optgroup>
                    <optgroup label="ğŸŒ International">
                      <option value="paypal" data-icon="ğŸ”µ">PayPal</option>
                      <option value="stripe" data-icon="â¬›">Stripe</option>
                    </optgroup>
                  </select>
                  <span class="inv-pay-dropdown-arrow">â–¼</span>
                </div>
                <div class="inv-pay-terms">50% downpayment required to start Â· 50% upon project completion</div>
              </div>

              <div id="orderSuccessBanner" style="display:none;margin-bottom:1rem;padding:1.1rem 1.25rem;background:rgba(57,255,20,0.10);border:1.5px solid var(--neon);border-radius:var(--radius);text-align:center;">
                <div style="font-family:'Orbitron',sans-serif;font-size:1rem;color:var(--neon);letter-spacing:0.06em;margin-bottom:0.4rem;">âœ… ORDER PLACED!</div>
                <div style="font-size:0.88rem;color:var(--text-muted);">Your order has been received. A confirmation email is on its way. Nex Genix will reach out shortly to process your payment.</div>
              </div>

              <div class="button-group">
                <button class="button" id="placeOrderBtn" onclick="submitOrder(event)">ğŸ›’ Place Order</button>
                <button class="button button-secondary" onclick="downloadInvoice()">â¬‡ï¸ Download Invoice</button>
              </div>
              <div style="margin-top:0.75rem;text-align:center;">
                <button class="button button-secondary" id="newPurchaseBtn" style="display:none;width:100%;background:rgba(232,212,77,0.12);border-color:var(--yellow);color:var(--yellow);" onclick="startNewPurchase()">âœ¨ Make Another Purchase</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- â”€â”€ MY ORDERS SECTION â”€â”€ -->
      <div id="my-orders" class="content-section">
        <h1 class="welcome-title">Services Purchased</h1>
        <div class="content-box">
          <div class="orders-filter-tabs">
            <button class="orders-tab active" id="otab-all"         onclick="setOrdersFilter('all')">ğŸ“¦ All</button>
            <button class="orders-tab"        id="otab-in-progress" onclick="setOrdersFilter('in-progress')">âš™ï¸ In Progress</button>
            <button class="orders-tab"        id="otab-finished"    onclick="setOrdersFilter('finished')">âœ… Finished</button>
            <button class="orders-tab"        id="otab-receipts"    onclick="setOrdersFilter('receipts')">ğŸ§¾ Receipts</button>
          </div>
          <div id="ordersContent">
            <p style="color:var(--text-muted);text-align:center;padding:2.5rem;font-size:0.95rem;letter-spacing:0.02em;">No orders yet. Start by ordering a service!</p>
          </div>
        </div>
      </div>

      <!-- â”€â”€ PROFILE SECTION â”€â”€ -->
      <div id="profile" class="content-section">
        <h1 class="welcome-title">View Profile</h1>

        <!-- Account Settings -->
        <div class="content-box" id="avatarSection">
          <div class="profile-section-title">ğŸ‘¤ Account Settings</div>

          <!-- Avatar -->
          <div class="profile-avatar-wrap">
            <div class="avatar-initials" id="avatarInitials">NG</div>
            <img src="" alt="Avatar" id="avatarImg" class="profile-avatar" style="display:none;">
            <label class="avatar-upload-btn">
              ğŸ“· Upload / Replace Avatar
              <input type="file" id="avatarFileInput" accept="image/*" style="display:none;" onchange="handleAvatarUpload(event)">
            </label>
          </div>

          <div class="form-group" id="emailSection">
            <label for="profileEmail">Email Address</label>
            <input id="profileEmail" class="input" placeholder="your@email.com" type="email" oninput="syncInvoiceEmailFromSettings()">
          </div>

          <div class="form-group" id="phoneSection">
            <label>WhatsApp Number
              <svg width="10" height="10" viewBox="0 0 24 24" fill="#25D366" style="vertical-align:middle;margin-left:3px;"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
            </label>
            <div class="settings-phone-group">
              <select id="phoneCode" class="input" style="flex:0 0 155px;padding:0.6rem 0.5rem;font-size:0.8rem;"></select>
              <input id="phoneNumber" class="input" placeholder="9XX XXX XXXX" type="tel" maxlength="15" style="flex:1;">
            </div>
          </div>

          <div class="form-group">
            <label for="displayNameInput">Display Name</label>
            <input id="displayNameInput" class="input" placeholder="Display Name" type="text">
          </div>

          <button class="button" onclick="saveProfile()" style="width:100%;">ğŸ’¾ Save Changes</button>
        </div>

        <!-- Change Password -->
        <div class="content-box" id="passwordSection">
          <div class="profile-section-title">ğŸ”’ Change Password</div>

          <div class="form-group">
            <label for="currentPasswordInput">Current Password</label>
            <div class="pw-wrap">
              <input id="currentPasswordInput" class="input pw-input" type="password" placeholder="Enter current password">
              <button type="button" class="pw-toggle" onclick="togglePw('currentPasswordInput', this)" title="Show/hide">
                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
              </button>
            </div>
          </div>
          <div class="form-group">
            <label for="newPasswordInput">New Password</label>
            <div class="pw-wrap">
              <input id="newPasswordInput" class="input pw-input" type="password" placeholder="New password">
              <button type="button" class="pw-toggle" onclick="togglePw('newPasswordInput', this)" title="Show/hide">
                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
              </button>
            </div>
          </div>
          <div class="form-group">
            <label for="confirmPasswordInput">Confirm New Password</label>
            <div class="pw-wrap">
              <input id="confirmPasswordInput" class="input pw-input" type="password" placeholder="Confirm new password">
              <button type="button" class="pw-toggle" onclick="togglePw('confirmPasswordInput', this)" title="Show/hide">
                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
              </button>
            </div>
          </div>
          <button class="button" onclick="updatePassword()" style="width:100%;">ğŸ” Change Password</button>
        </div>
      </div>

      <!-- â”€â”€ CONTACT SUPPORT SECTION â”€â”€ -->
      <div id="support" class="content-section">
        <h1 class="welcome-title">Contact Support</h1>
        <div class="content-box">
          <p style="color:var(--text-muted);font-size:0.85rem;margin-bottom:1.25rem;">Need help? Reach out to us through any of the channels below.</p>
          <div class="support-options">
            <a class="support-card" href="https://wa.me/639XXXXXXXXX" target="_blank">
              <span class="support-icon">ğŸ’¬</span>
              <div>
                <div class="support-label">WhatsApp</div>
                <div class="support-sub">Chat with us directly â€” fastest response</div>
              </div>
            </a>
            <a class="support-card" href="/cdn-cgi/l/email-protection#2749425f4042494e5f44554246534e514254484b52534e48495467404a464e4b0944484a">
              <span class="support-icon">âœ‰ï¸</span>
              <div>
                <div class="support-label">Email Support</div>
                <div class="support-sub"><span class="__cf_email__" data-cfemail="8be5eef3eceee5e2f3e8f9eeeaffe2fdeef8e4e7feffe2e4e5f8cbece6eae2e7a5e8e4e6">[email&#160;protected]</span></div>
              </div>
            </a>
            <a class="support-card" href="https://nexgenixcreativesolutions.github.io" target="_blank">
              <span class="support-icon">ğŸŒ</span>
              <div>
                <div class="support-label">Visit Our Website</div>
                <div class="support-sub">nexgenixcreativesolutions.github.io</div>
              </div>
            </a>
            <a class="support-card" href="https://www.facebook.com" target="_blank">
              <span class="support-icon">ğŸ“˜</span>
              <div>
                <div class="support-label">Facebook Page</div>
                <div class="support-sub">Message us on Facebook</div>
              </div>
            </a>
          </div>
        </div>
      </div>

    </main>
  </div>

  <!-- =================== BOTTOM NAVIGATION BAR =================== -->
  <nav class="bottom-nav">
    <!-- Home â†’ external site -->
    <a class="bottom-nav-item" href="https://nexgenixcreativesolutions.github.io" title="Home" style="text-decoration:none;">
      <svg class="bottom-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/>
      </svg>
      <span>Home</span>
    </a>

    <!-- Services â†’ Order section -->
    <button class="bottom-nav-item" onclick="showSection('order'); setBottomActive(this)" title="Services">
      <svg class="bottom-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/>
      </svg>
      <span>Services</span>
    </button>

    <!-- Orders â†’ My Orders -->
    <button class="bottom-nav-item" onclick="showSection('my-orders'); setBottomActive(this)" title="My Orders">
      <svg class="bottom-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/>
        <line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/>
      </svg>
      <span>Orders</span>
    </button>

    <!-- Profile â†’ View Profile -->
    <button class="bottom-nav-item" onclick="showSection('profile'); setBottomActive(this)" title="Profile">
      <svg class="bottom-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/>
      </svg>
      <span>Profile</span>
    </button>

    <!-- Logout -->
    <button class="bottom-nav-item logout-item" onclick="logout()" title="Logout">
      <svg class="bottom-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/>
      </svg>
      <span>Logout</span>
    </button>
  </nav>

  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="dashboard-script.js"></script>
  <script>
    // â”€â”€ SIDEBAR ACTIVE STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function setSidebarActive(sectionId) {
      document.querySelectorAll('.sidebar-top-item').forEach(li => li.classList.remove('active'));
      const map = { 'profile': 0, 'my-orders': 1, 'support': 2 };
      const items = document.querySelectorAll('.sidebar-top-item');
      if (map[sectionId] !== undefined && items[map[sectionId]]) {
        items[map[sectionId]].classList.add('active');
      }
    }

    // Patch showSection to also update sidebar highlight
    const _origShowSection = window.showSection;
    window.showSection = function(id) {
      if (typeof _origShowSection === 'function') _origShowSection(id);
      setSidebarActive(id);
    };

    // â”€â”€ ORDERS FILTER TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function setOrdersFilter(filter) {
      document.querySelectorAll('.orders-tab').forEach(t => t.classList.remove('active'));
      const tab = document.getElementById('otab-' + filter);
      if (tab) tab.classList.add('active');
      // TODO: hook into actual orders list filtering when orders are added
    }

    // â”€â”€ AVATAR UPLOAD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function handleAvatarUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        const img = document.getElementById('avatarImg');
        const initials = document.getElementById('avatarInitials');
        img.src = e.target.result;
        img.style.display = 'block';
        initials.style.display = 'none';
        localStorage.setItem('ngcs_avatar', e.target.result);
      };
      reader.readAsDataURL(file);
    }

    // Load saved avatar on start
    (function loadAvatar() {
      const saved = localStorage.getItem('ngcs_avatar');
      if (saved) {
        const img = document.getElementById('avatarImg');
        const initials = document.getElementById('avatarInitials');
        if (img) { img.src = saved; img.style.display = 'block'; }
        if (initials) initials.style.display = 'none';
      }
    })();

    // â”€â”€ STAR RATING (used in review cards) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function setRating(stars, rating) {
      stars.forEach((s, i) => {
        s.classList.toggle('active', i < rating);
        s.dataset.rating = rating;
      });
    }

    // â”€â”€ PASSWORD SHOW / HIDE TOGGLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function togglePw(inputId, btn) {
      const input = document.getElementById(inputId);
      if (!input) return;
      const isHidden = input.type === 'password';
      input.type = isHidden ? 'text' : 'password';
      btn.classList.toggle('visible', isHidden);
      // Swap eye icon: open eye when visible, slashed eye when hidden
      btn.querySelector('svg').innerHTML = isHidden
        ? '<path d="M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94"/><path d="M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19"/><line x1="1" y1="1" x2="23" y2="23"/>'
        : '<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>';
    }

    // â”€â”€ SYNC CURRENCY DROPDOWN â†’ INVOICE META BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // The main script's changeCurrency() already updates invoiceCurrencyMeta.
    // This just ensures it's correct on initial load.
    document.addEventListener('DOMContentLoaded', function() {
      const sel = document.getElementById('currencyDropdown');
      const meta = document.getElementById('invoiceCurrencyMeta');
      if (sel && meta) meta.textContent = sel.value;
    });
    if (profileEmailEl) {
      profileEmailEl.addEventListener('input', function() {
        const inv = document.getElementById('invoiceEmailInput');
        if (inv) inv.value = this.value;
      });
    }

    // â”€â”€ KEEP emailInput alias for old JS references â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // The script.js may reference emailInput â€” mirror it
    Object.defineProperty(window, 'emailInput', {
      get() { return document.getElementById('profileEmail'); }
    });
  </script>

  <!-- Go to Top Button -->
  <button id="goTopBtn" onclick="scrollToTop()" title="Back to top" style="
    display:none; position:fixed; bottom:80px; right:1rem; z-index:999;
    width:42px; height:42px; border-radius:50%;
    background:linear-gradient(135deg,rgba(57,255,20,0.25),rgba(57,255,20,0.08));
    border:1.5px solid var(--neon); color:var(--neon);
    font-size:1.1rem; cursor:pointer; box-shadow:0 0 14px rgba(57,255,20,0.25);
    transition:all 0.2s; backdrop-filter:blur(6px);
  ">â–²</button>

</body>
</html>